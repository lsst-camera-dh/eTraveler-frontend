<%-- 
    Document   : listTravelers
    Created on : Jan 30, 2013, 3:51:03 PM
    Author     : focke
--%>

<%@page contentType="text/html" pageEncoding="US-ASCII"%>
<%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@taglib prefix="sql" uri="http://java.sun.com/jstl/sql" %>
<%@taglib prefix="display" uri="http://displaytag.sf.net" %>
<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
        <title>Traveler List</title>
    </head>
    <body>
        <sql:query var="result" dataSource="jdbc/rd-lsst-cam">
          select A.id as activityId, P.name as processName, P.version, A.begin, A.end, H.id as hardwareId, HT.name as hardwareName
            from Activity A, Process P, Hardware H, HardwareType HT 
            where 
            A.processEdgeId IS NULL 
            AND 
            A.processId=P.id 
            AND A.hardwareId=H.id 
            AND H.TypeId=HT.id;
        </sql:query>
        <display:table name="${result.rows}" class="datatable">
            <display:column property="activityId" title="Activity" sortable="true" headerClass="sortable"
                            href="displayActivity.jsp" paramId="activityId" paramProperty="activityId"/>
            <display:column property="hardwareId" title="hardware" sortable="true" headerClass="sortable"
                            href="displayHardware.jsp" paramId="hardwareId" paramProperty="hardwareId"/>
            <display:column property="processName" title="Process Name" sortable="true" headerClass="sortable"/>
            <display:column property="version" title="Process Version" sortable="true" headerClass="sortable"/>
            <display:column property="hardwareName" title="Hardware Type"/>
            <display:column property="begin" sortable="true" headerClass="sortable"/>
            <display:column property="end" sortable="true" headerClass="sortable"/>
        </display:table>        
    </body>
</html>
